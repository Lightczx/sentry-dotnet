<Project Sdk="Microsoft.NET.Sdk.BlazorWebAssembly">

  <PropertyGroup>
    <TargetFramework>net7.0</TargetFramework>
<!--    https://learn.microsoft.com/en-us/aspnet/core/blazor/host-and-deploy/webassembly?view=aspnetcore-7.0#disable-integrity-checking-for-non-pwa-apps-->
<!--    Patching the wasm file to get debug_id fails the integrity check. But disabling it have it load via URL so the hack with calling a func to get a stack trace isn't needed-->
    <BlazorCacheBootResources>false</BlazorCacheBootResources>

    <!-- https://github.com/dotnet/runtime/blob/ba6a4adb228567a6bb3f4a9e5789fb74c47c8c94/src/mono/wasm/build/WasmApp.targets#L23-L26-->
    <WasmNativeDebugSymbols>true</WasmNativeDebugSymbols>
    <WasmNativeStrip>true</WasmNativeStrip>

    <WasmEmitSymbolMap>true</WasmEmitSymbolMap>
    <WasmEmitSourceMap>true</WasmEmitSourceMap>
<!--    https://stackoverflow.com/questions/73651974/how-do-i-make-the-wasmemitsymbolmap-and-or-wasmnativestrip-properties-take-effec-->
<!--    <RunAOTCompilation>true</RunAOTCompilation>-->
<!--    <RunAOTCompilationAfterBuild>true</RunAOTCompilationAfterBuild>-->
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.AspNetCore.Components.WebAssembly" Version="7.0.10" />
    <PackageReference Include="Microsoft.AspNetCore.Components.WebAssembly.DevServer" Version="7.0.10" PrivateAssets="all" />
    <ProjectReference Include="..\..\src\Sentry.AspNetCore.Blazor\Sentry.AspNetCore.Blazor.csproj" />
  </ItemGroup>

</Project>
